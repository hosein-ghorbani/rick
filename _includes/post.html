{% assign post = include.post %}

<article class="post">

  <div class="post__container">
    <figure class="post__figure">

      {% assign author = site.data.authors[post.author] %}

      <span class="lazyimage">
        <img width="105" height="105" onload="window.pr.methods.addClass('img-loaded', this.parentNode)" onerror="window.pr.methods.addClass('img-error', this)" class="img-block img-rounded" src="{{ author.avatar }}">
      </span>
      <small class="post__date"><em>{{ post.pdate }}</em></small>
    </figure>

    <section class="post__entry">
      <h3 class="post__title">
        <a href="{{ post.url }}">{{ post.title }}</a>
      </h3>

      {% if post.tags.size > 0 %}
      <nav class="post__tags">
        <i class="icon pricon-tag"></i>
        <ul class="list--unstyled list--inline">
          {% for tag in post.tags %}
            <li><a href="{{site.baseurl}}/tag/{{tag | downcase}}">#{{ tag }}</a></li>
          {% endfor %}
        </ul>
      </nav>
      {% endif %}

      <div class="post__figure--mobile">
        <div class="post__info">
          <span>
            <span class="lazyimage lazyimage--mobile inline--middle">
              <img
                onload="window.pr.methods.addClass('img-loaded', this.parentNode)"
                onerror="window.pr.methods.addClass('img-error', this)"
                src="{{ author.avatar }}"
                alt="{{ author.name }}"
                class="img-circle post__info__figure"
              >
            </span>
            <span class="inline--middle post__author">{{ author.name }}</span>
          </span>
          <small><em>{{ post.pdate }}</em></small>
        </div>
      </div>
      <div class="post__excerpt">
        {{ post.excerpt }}
      </div>
    </section>
  </div>

</article>